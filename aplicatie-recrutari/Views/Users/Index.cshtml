@{
    ViewBag.Title = "Users";
}
<h2>@ViewBag.Title</h2>
<table class="table">
    <thead>
    <th>Username</th>
    <th>Email</th>
    <th>Update</th>
    <th>Delete</th>
    </thead>
    <tbody>
        @foreach (var user in ViewBag.UsersList)
        {
            if (user.Id != ViewBag.UserCurent)
            {
            <tr>
                <td>@user.UserName</td>
                <td>@user.Email</td>
                @if (User.IsInRole("Admin"))
                {
                    <td><a class="btn btn-primary" href="/Users/Edit/@user.Id"> Edit User</a></td>
                    <td>
                        @using (Html.BeginForm(actionName: "Delete", controllerName: "Users", routeValues: new { id = @user.Id }))
                        {
                            @Html.HttpMethodOverride(HttpVerbs.Delete)
                            
                            <button class="btn btn-danger" type="submit">Delete User</button>
                        }
                    </td>
                }
            </tr>
            }
        }
    </tbody>
</table>

